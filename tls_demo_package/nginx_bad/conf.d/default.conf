server {
    listen 9443 ssl;
    server_name bad.example.local;

    ssl_certificate /etc/nginx/certs/bad.crt;
    ssl_certificate_key /etc/nginx/certs/bad.key;

    # Weak TLS settings (for demo)
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
    # Dùng cipher suite còn hỗ trợ, vẫn giữ các yếu tố "bad" khác
    ssl_ciphers HIGH:!aNULL:!MD5;
    ssl_prefer_server_ciphers off;

    # Missing HSTS intentionally
    location / {
        root /usr/share/nginx/html;
        index index.html;
        # insecure cookie (no Secure, no HttpOnly)
        add_header Set-Cookie "sessionid=bad123; SameSite=None";
    }
}


# ssl_ciphers dùng HIGH:!aNULL:!MD5 (còn được OpenSSL mới hỗ trợ).
# Vẫn giữ các yếu tố "bad": cho phép TLSv1,
#                              TLSv1.1, 
#                             không có HSTS, 
#                             cookie không Secure/HttpOnly, 
#                             ssl_prefer_server_ciphers off.